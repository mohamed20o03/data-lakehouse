server:
  port: 8080
  servlet:
    context-path: /

spring:
  application:
    name: data-lake-api
  
  # RabbitMQ Configuration
  rabbitmq:
    host: rabbitmq
    port: 5672
    username: admin
    password: password123
    connection-timeout: 10000
    requested-heartbeat: 60
  
  # Redis Configuration
  data:
    redis:
      host: redis
      port: 6379
      timeout: 2000ms
      lettuce:
        pool:
          max-active: 8
          max-idle: 8
          min-idle: 0
  
  # File Upload Configuration
  servlet:
    multipart:
      enabled: true
      max-file-size: 100MB
      max-request-size: 100MB
      file-size-threshold: 2KB

# MinIO Configuration
minio:
  endpoint: http://minio:9000
  access-key: admin
  secret-key: password123
  bucket:
    uploads: uploads
    warehouse: warehouse

# File Configuration
file:
  max-size: 104857600  # 100MB in bytes
  allowed-types: xlsx,xls,csv,parquet,avro

# RabbitMQ Queue Configuration
rabbitmq:
  queue:
    name: file.processing.queue
    durable: true

# Logging Configuration
logging:
  level:
    root: INFO
    com.datalake: DEBUG
    org.springframework.amqp: DEBUG
  pattern:
    console: "%d{yyyy-MM-dd HH:mm:ss} - %msg%n"
    file: "%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n"

# Management and Monitoring
management:
  endpoints:
    web:
      exposure:
        include: health,info,metrics
  endpoint:
    health:
      show-details: always