# Iceberg Spark Extensions
spark.sql.extensions                              org.apache.iceberg.spark.extensions.IcebergSparkSessionExtensions

# Iceberg JDBC Catalog
spark.sql.catalog.local                           org.apache.iceberg.spark.SparkCatalog
spark.sql.catalog.local.type                      jdbc
spark.sql.catalog.local.uri                       jdbc:postgresql://postgres:5432/iceberg_catalog
spark.sql.catalog.local.jdbc.user                 iceberg_user
spark.sql.catalog.local.jdbc.password             iceberg_pass
spark.sql.catalog.local.warehouse                 s3a://warehouse/wh/
spark.sql.catalog.local.io-impl                   org.apache.iceberg.aws.s3.S3FileIO

# S3/MinIO Configuration
spark.sql.catalog.local.s3.endpoint               http://minio:9000
spark.sql.catalog.local.s3.path-style-access      true
spark.sql.catalog.local.s3.access-key-id          admin
spark.sql.catalog.local.s3.secret-access-key      password123

# AWS Region (required even for MinIO)
spark.sql.catalog.local.client.region             us-east-1

# Default catalog
spark.sql.defaultCatalog                          local

# Hadoop S3A Configuration (for MinIO)
spark.hadoop.fs.s3a.endpoint                      http://minio:9000
spark.hadoop.fs.s3a.access.key                    admin
spark.hadoop.fs.s3a.secret.key                    password123
spark.hadoop.fs.s3a.path.style.access             true
spark.hadoop.fs.s3a.impl                          org.apache.hadoop.fs.s3a.S3AFileSystem
spark.hadoop.fs.s3a.connection.ssl.enabled        false
spark.hadoop.fs.s3a.aws.credentials.provider      org.apache.hadoop.fs.s3a.SimpleAWSCredentialsProvider

# AWS SDK Configuration
spark.hadoop.fs.s3a.region                        us-east-1

# Event logging
spark.eventLog.enabled                            true
spark.eventLog.dir                                /home/iceberg/spark-events
spark.history.fs.logDirectory                     /home/iceberg/spark-events
